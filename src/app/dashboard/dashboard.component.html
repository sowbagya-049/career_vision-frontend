<div class="dashboard">
  <div class="container">
    <!-- Header -->
    <div class="dashboard-header">
      <h1>Welcome back, {{ (currentUser$ | async)?.firstName }}! 👋</h1>
      <p>Track your career progress and discover new opportunities</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-container">
      <div class="spinner"></div>
      <p>Loading your dashboard...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="errorMessage && !isLoading" class="error-container">
      <div class="error-icon">⚠️</div>
      <p>{{ errorMessage }}</p>
      <button class="retry-btn" (click)="retryLoad()">Retry</button>
    </div>

    <!-- Dashboard Content -->
    <div *ngIf="!isLoading && !errorMessage">
      <!-- Quick Stats -->
      <div class="quick-stats">
        <div class="stat-card">
          <div class="stat-icon">📄</div>
          <h3>{{ resumesUploaded }}</h3>
          <p>Resumes Uploaded</p>
        </div>
      
        <div class="stat-card">
          <div class="stat-icon">🎯</div>
          <h3>{{ milestonesTracked }}</h3>
          <p>Milestones Tracked</p>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon">💼</div>
          <h3>{{ recommendationsCount }}</h3>
          <p>Recommendations</p>
        </div>
    
        <div class="stat-card">
          <div class="stat-icon">⭐</div>
          <h3 [style.color]="getScoreColor()">{{ careerScore }}</h3>
          <p>Career Score</p>
        </div>
      </div>

      <!-- Profile Completeness Bar -->
      <div class="completeness-card">
        <div class="completeness-header">
          <h3>Profile Completeness</h3>
          <span class="completeness-percentage" [style.color]="getCompletenessColor()">
            {{ profileCompleteness }}%
          </span>
        </div>
        <div class="progress-bar">
          <div 
            class="progress-fill" 
            [style.width.%]="profileCompleteness"
            [style.background-color]="getCompletenessColor()"
          ></div>
        </div>
        <p class="completeness-tip" *ngIf="profileCompleteness < 100">
          💡 Complete your profile to get better recommendations!
        </p>
      </div>

      <!-- Quick Actions Grid -->
      <div class="dashboard-grid">
        <div 
          *ngFor="let action of quickActions"
          class="dashboard-card"
          (click)="navigateTo(action.route)"
          [style.border-left-color]="action.color"
        >
          <div class="card-icon">{{ action.icon }}</div>
          <h3>{{ action.title }}</h3>
          <p>{{ action.description }}</p>
          <div class="card-arrow">→</div>
        </div>
      </div>

      <!-- Call to Action -->
      <div class="cta-section">
        <h2>🚀 Ready to take your career to the next level?</h2>
        <p>Start by uploading your resume or exploring personalized recommendations</p>
        <div class="cta-buttons">
          <button class="btn-primary" (click)="navigateTo('/resume-upload')">
            Upload Resume
          </button>
          <button class="btn-secondary" (click)="navigateTo('/insights')">
            View Insights
          </button>
        </div>
      </div>
    </div>
  </div>
</div>